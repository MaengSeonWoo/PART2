<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/main/layouts/default_layout}"
	layout:fragment="Content">
<head>
<meta charset="UTF-8">
<title>회원 로그인</title>
<style>

.loginForm {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    max-width: 400px;
    margin: 50px auto;
}

.loginForm h2 {
    margin-bottom: 20px;
    font-size: 24px;
    color: #333;
    text-align: center;
}

.loginForm div {
    margin-bottom: 15px;
}

.loginForm label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #555;
}

.loginForm input[type="text"],
.loginForm input[type="password"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

.loginForm button {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 4px;
    background-color: #007bff;
    color: #ffffff;
    font-size: 16px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s ease;
}

.loginForm button:hover {
    background-color: #0056b3;
}

.loginForm button:nth-of-type(2) {
    background-color: #6c757d;
}

.loginForm button:nth-of-type(2):hover {
    background-color: #5a6268;
}

.tuto {
	text-align:center;
	margin-top:40px;
}

.tutoModal{
	width:200px;
	height:fit-content;
	top:300px;
	float:right;
	display:none;
}

.pwHelp{
	display:none;
}

.tutoBtn{
	background-color: pink;
}

.tutoCloseBtn{
	display:flex;
	justify-content:center;
	width:100%;
	margin:auto;
}
</style>
</head>
<body>
	<div class="tuto">
		<h5>튜토리얼(해당 사이트의 이용을 돕기위한 도움기능)<br></h5>
		<h5>이 준비되어 있습니다. 사용을 원하신다면 아래를 클릭해주세요.</h5>
		<button type="button" class="tutoBtn" onclick="tutorialStart()">튜토리얼 실행</button>
	</div>
	
	<div class="tutoModal">
			<p class="tip">이곳에 아이디(계정)을 입력해주세요. 이 곳 사이트에 계정이 없으시다면 좌측 하단 회원가입을 클릭해주세요</p>
			<button type="button" class="tutoCloseBtn" onclick="tutorialEnd()">X</button>
		</div>
		
	<div class="loginForm">
		<h2>회원 로그인</h2>
		<form th:action="@{/login}" method="post">
			<div>
				<label for="userId">아이디</label> <input type="text" id="userId"
					name="userId" required autofocus />
			</div>
			<div>
				<label for="userPw">비밀번호</label> <input type="password" id="userPw"
					name="userPw" required />
			</div>
			<button type="submit" class="loginBtn">로그인</button>
			<br>
				<button class="signBtn">회원가입</button>
				<button class="findInfoBtn">아이디/비밀번호 찾기</button>
		</form>
	</div> 
	
</body>
<script>
	let body = document.querySelector('body'); 
	let tutoModal = document.querySelector('.tutoModal');
	let loginForm = document.querySelector('.loginForm');
	let tip = document.querySelector('.tip');
	let tutoBtn = document.querySelector('.tutoBtn');
	let userId = document.querySelector('input[name="userId"]');
	let userPw = document.querySelector('input[name="userPw"]');
	let loginBtn = document.querySelector('.loginBtn');
	let signBtn = document.querySelector('.signBtn');
	let findInfoBtn = document.querySelector('.findInfoBtn');
	let state = 0;
	
	function tutorialStart(){
		console.log('튜토리얼 시작');
		$(".tutoModal").show();
		tip.innerHTML = "이곳에 아이디(계정)을 입력해주세요. 이 곳 사이트에 계정이 없으시다면 좌측 하단 회원가입을 클릭해주세요";
		body.style.backgroundColor="gray";	
		loginForm.style.backgroundColor="gray";
		tutoBtn.style.backgroundColor="gray";
		userPw.style.backgroundColor="gray";
		tutoModal.style.backgroundColor="white";
		signBtn.style.border="2px solid red";
		userId.value = '';
		state = 1;
		userId.focus();
		userId.addEventListener("change", function(e) {
		console.log("onchange", e.target.value);
		    if(state == 1){
		    userPw.value='';
		    passWordHelp();
		    }
		})
	}
	
	function passWordHelp(){
		userPw.focus();
		tip.innerHTML ="이 곳에 비밀번호를 입력해주세요 비밀번호를 잃어버리셨다면 아래쪽 아이디/비밀번호 찾기를 클릭해주세요";
		signBtn.style.border="none";
		userId.style.backgroundColor="gray";
		userPw.style.backgroundColor="white";
		findInfoBtn.style.border="2px solid red"
		userPw.addEventListener("change", function(e) {
			if(state == 1){
				loginBtn.style.border="2px solid red";
				loginModal();
			}
		})
	}
	
	function loginModal(){
		state=2;
		tip.innerHTML ="계정과 비밀번호를 모두 맞게 입력하셨다면 로그인을 눌러주세요";
		loginBtn.style.border="2px solid red";
		findInfoBtn.style.border="none";
	}
	

	function tutorialEnd(){
		console.log('튜토리얼 종료');
		$(".tutoModal").hide();
		body.style.backgroundColor="white";
		tutoBtn.style.backgroundColor="pink";
		userId.style.backgroundColor="white";
		loginForm.style.backgroundColor="white";
		userPw.style.backgroundColor="white";
		findInfoBtn.style.border="none";
		loginBtn.style.border="none";
		signBtn.style.border="none";
		
	
		state = 0;
	}
	
	
</script>
</html>