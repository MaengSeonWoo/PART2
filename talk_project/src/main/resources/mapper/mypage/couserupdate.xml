<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace='com.talk.app.mypage.mapper.CoUserUpdateMapper'>
	
	
	<!-- 단건조회 -->
	<select id = "selectCoUserInfo" resultType="CoUserVO">
		SELECT co_user_no
			  , co_reg_no
			  , co_name
			  , industry
			  , rep_name
			  , est_year
			  , co_post_no
			  , co_addr
			  , co_detail_addr
			  , main_business
			  , region
			  , etc
			  , co_user_id
			  , co_user_pw
			  , mgr_name
			  , mgr_email
			  , mgr_tel
			  , approval_status
			  , co_contact
			  , authority
			  , logo_img
			  , file_path
			  <!-- , file_path -->
			  FROM company_user c JOIN files f
			  ON c.co_user_no = f.domain_id
			  WHERE co_user_id = #{coUserId}
			  <!-- FROM company_user
			  WHERE co_user_id = #{coUserId} -->
	</select>

	<update id = "updateUserInfo">
		UPDATE company_user
		SET co_name = #{coName},
			industry = #{industry},
			rep_name = #{repName},
			co_post_no = #{coPostNo},
			co_addr= #{coAddr},
			co_detail_addr = #{coDetailAddr},
			main_business = #{mainBusiness},
			region = #{region},
			etc = #{etc},
			<if test = "coUserPw != null and coUserPw != ''">
			co_user_pw = #{coUserPw},
			</if>
			mgr_name = #{mgrName},
			mgr_email = #{mgrEmail},
			mgr_tel = #{mgrTel},
			co_contact = #{coContact},
			logo_img = #{logoImg}
		WHERE co_user_id = #{coUserId}
	</update>
</mapper>