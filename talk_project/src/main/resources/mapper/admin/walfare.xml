<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.talk.app.admin.mapper.WelfareMapper">

<insert id="insertWelfareInfo" parameterType="com.talk.app.admin.service.WelfareVO">
<selectKey keyProperty="wid" resultType="Integer" order="BEFORE">
			SELECT NVL(MAX(wid),0)+1
			FROM welfare	
		</selectKey>
      INSERT INTO welfare (wid
      								,serv_id
      								, serv_name
      								, start_date
      								, end_date
      								, biz_dept
      								, sido
      								, sgg
      								, serv_summary
      								, household
      								, like_subject
      								, sup_period
      								, prov_type
      								, app_way
      								, sup_target
      								, sel_standard
      								, sal_serv)
      VALUES (#{wid}
    				,#{servId}
    				, #{servName}
    				, #{startDate}
    				, #{endDate}
    				, #{bizDept}
    				, #{sido}
    				, #{sgg}
    				, #{servSummary}
    				, #{household}
    				, #{likeSubject}
    				, #{supPeriod}
    				, #{provType}
    				, #{appWay}
    				, #{supTarget}
    				, #{selStandard}
    				, #{salServ})
</insert>

<select id="getAllWelfareInfo" resultType="com.talk.app.admin.service.WelfareVO">
        SELECT wid
        			,serv_id
        			, serv_name
        			, start_date
        			, end_date
        			, biz_dept
        			, sido
        			, sgg
        			, serv_summary
        			, household
        			, like_subject
        			, sup_period
        			, prov_type
        			, app_way
        			, sup_target
        			, sel_standard
        			, sal_serv
        FROM welfare
</select>

<select id="selectDetail" resultType="com.talk.app.admin.service.WelfareVO">
	        SELECT wid 
	        		,serv_id
        			, serv_name
        			, start_date
        			, end_date
        			, biz_dept
        			, sido
        			, sgg
        			, serv_summary
        			, household
        			, like_subject
        			, sup_period
        			, prov_type
        			, app_way
        			, sup_target
        			, sel_standard
        			, sal_serv
        FROM welfare
        WHERE wid =#{wid}
</select>


<insert id="insertWelfareDetail" parameterType="com.talk.app.admin.service.WelfareVO">
<selectKey keyProperty="wid" resultType="Integer" order="BEFORE">
			SELECT NVL(MAX(wid),0)+1
			FROM welfare	
		</selectKey>
      INSERT INTO welfare (wid
      								,serv_id
      								, serv_name
      								, start_date
      								, end_date
      								, biz_dept
      								, sido
      								, sgg
      								, serv_summary
      								, household
      								, like_subject
      								, sup_period
      								, prov_type
      								, app_way
      								, sup_target
      								, sel_standard
      								, sal_serv)
      VALUES (#{wid}
    				,#{servId}
    				, #{servName}
    				, #{startDate}
    				, #{endDate}
    				, #{bizDept}
    				, #{sido}
    				, #{sgg}
    				, #{servSummary}
    				, #{household}
    				, #{likeSubject}
    				, #{supPeriod}
    				, #{provType}
    				, #{appWay}
    				, #{supTarget}
    				, #{selStandard}
    				, #{salServ})
</insert>

<update id="updateWelfare" parameterType="com.talk.app.admin.service.WelfareVO">
	UPDATE welfare
	SET 			serv_id = #{servId}
					,serv_name = #{servName}
					,start_date = #{startDate}
					,end_date =#{endDate}
					,biz_dept = #{bizDept}
					,sido = #{sido}
					,sgg = #{sgg}
					,serv_summary =#{servSummary}
					,household = #{household}
					,like_subject = #{likeSubject}
					,sup_period =#{supPeriod}
					,prov_type = #{provType}
					,app_way = #{appWay}
					,sup_target = #{supTarget}
					,sel_standard =#{selStandard}
					,sal_serv = #{salServ}
	WHERE wid= #{wid}
</update>

<delete id="deleteWelfare" parameterType="int">
DELETE FROM welfare
WHERE wid = #{wid}

</delete>






</mapper>